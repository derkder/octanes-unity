1. 心跳机制简介
在长连接下，可能很长一段时间都没有数据往来。理论上说，这个连接是一直保持连接的，但是实际情况中，如果中间节点出现什么故障是难以知道的。更致命的是，有的节点（防火墙）会自动把一定时间之内没有数据交互的连接给断掉。这个时候，就可以使用心跳包，来维持长连接以及保活
心跳机制就是每隔几分钟发送一个固定信息给服务端，服务端收到后回复一个固定信息如果服务端几分钟内没有收到客户端信息则视客户端断开。发包方可以是客户也可以是服务端，具体看哪边实现更方便合理

https://blog.csdn.net/weixin_47321452/article/details/121633227
